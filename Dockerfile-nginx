# Dockerfile-nginx
FROM nginx:latest

# Install envsubst (from gettext-base) - useful if dynamic substitution is needed later
RUN apt-get update && apt-get install -y gettext-base

# Copy Nginx configuration files into the container
COPY ./nginx/conf.d /etc/nginx/conf.d

# Copy application files into the container (from project root)
COPY . /var/www/html

# Expose port 9000 (so that Railway forwards traffic to this port)
EXPOSE 9000

# Start Nginx in the foreground
CMD ["nginx", "-g", "daemon off;"]
