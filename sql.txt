
DROP  TABLE IF EXISTS users,passwords CASCADE;

CREATE TABLE user (
                       id INT AUTO_INCREMENT PRIMARY KEY,
                       login VARCHAR(50) NOT NULL,
                       email VARCHAR(100) NOT NULL ,
                       telephone VARCHAR(10) NOT NULL,
                       nom text not null,
                       prenom text not null,
                       role int not null ,
                       activite text not null
);

CREATE TABLE password (
                           user_id INT PRIMARY KEY,
                           password_hash VARCHAR(255) NOT NULL,
                           FOREIGN KEY (user_id) REFERENCES users(id)
);



INSERT INTO user (id, login,email,telephone,prenom,activite,role,nom)
VALUES (1, 'noahlemr', 'noahlemr@gmail.com','1255','11dqsd','azeadsqd',1,'a');
INSERT INTO password (user_id, password_hash)
VALUES (1, '$2y$10$6HX9s8Jz1PkM5wx8Lz751Ov5eyOKMQHxIdQLGDVpY1CKhtgTO7Zg2');

#requete permettant de modifier les mots de passe 
#UPDATE password SET password_hash =  WHERE (Select id from user where login =  && email = ) = user_id;
